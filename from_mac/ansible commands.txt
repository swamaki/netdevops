

Ansible

https://networktocode.slack.com/join/invite/MjY0NTQ0NTE4MjQxLTE1MDk2Mjc2ODEtNWQ5M2FjNjk2ZQ

/Users/stephenamaki/Desktop/Dropbox/Ansible

/Users/stephenamaki/Desktop/Dropbox/Ansible/Example

sudo nano /Library/Python/2.7/site-packages/ansible/plugins/connection/paramiko_ssh.py

look_for_keys=false,

INE option #3 is usually used -- as in the alias and IP address on the same line
--------------------
valid

ansible ios_devices -i ./stoneridge_hosts -m raw -a "show run" -u admin -k 

ansible-playbook show_arp.yml -u admin -k

ansible-playbook show_version.yml -u admin -k

ansible-playbook show_commands_switches_nxos.yml -u admin -k 

ansible-playbook show_commands_switches_ios.yml -u admin -k 

ansible-playbook -i hosts_2 show_version_ine2.yml -u admin -k 

------------------




ansible border1 -m raw -a "show version" -u admin -k


ansible all -i ./gnshosts -m raw -a "show run" -u admin -k | grep username


ansible all -i ./stoneridge_hosts -m raw -a "show run" -u admin -k | grep username

ansible all -i ./stoneridge_hosts -m raw -a "show run" -u admin -k | grep 'username\|SUCCESS'


ansible all -i ./stoneridge_hosts -m raw -a "show run" -u admin -k | grep username > usernames.txt





NXOS command

          - show ip arp
          - show run
          - show version
          - show module
          - show cdp neighbor
          - show cdp neighbor detail
          - show ip route 
          - show ip route eigrp
          - show ip route ospf
          - dir 
          - sh vlan 
          - show interface status
          - show interface trunk
          - show ip interface brief | ex unassigned
          - show vtp status
          - show standby brief
          - show spanning-tree brief
          - show spanning-tree root
          - show vpc
          - show port-channel summary
          - show proc cpu sorted
          - show proc cpu history



routers


          - show run
          - show version
          - show cdp neighbor
          - show cdp neighbor detail
          - show ip bgp summary
          - show ip eigrp neigh
          - show ip ospf neigh
          - show ip ospf database
          - show ip ospf interface
          - show ip eigrp interface
          - show ip route static
          - show ip route ospf
          - show ip route eigrp
          - show ip route bgp
          - show ip bgp summ
          - show ip bgp
          - show ip route
          - show interface
          - show proc cpu sorted
          - show proc cpu history  
################################


hey everyone. I was wondering if anyone can point me in the right direction. I'm trying to write the results of multiple show commands to a file. 

Refer to this repository https://github.com/wewuge/output_ios/tree/master/output_iosV3

The output is garbled and not readable as you would expect of a regular running config of a router ( see the sample_output.txt file)

I want to scale this to include multiple other commands. 

If I make the following modifications to the playbook: 

- Remove "with_items" line
- Change the output variable to "show_run.stdout_lines"

I get the right output via debug but the entire output is not sent to the file. Only the first command is sent to the file. 


